<div class="container exchange-rate">
  <div class="card my-4">
    <div class="card-body">
      <form [formGroup]="form">
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="form-group">
              <label for="amount">Importe:</label>
              <input #amount currencyMask type="text" class="form-control" id="amount" aria-describedby="importe"
                placeholder="Monto" formControlName="amount" autocomplete="off">
              <app-error-messages [control]="formControl['amount']"></app-error-messages>
            </div>
          </div>
          <div class="col-12 col-md-3">
            <div class="form-group">
              <label for="currencyTypeFrom">De:</label>
              <ng-select #currencySelect [searchable]="false" [clearable]="false" labelForId="currencyTypeFrom"
                formControlName="currencyFrom" (change)="onChangeSelect()">
                <ng-option value="USD">
                  <img src="../../assets/images/icons-eeuu-48.png" width="20px" height="20px" />
                  USD
                </ng-option>
                <ng-option value="PEN">
                  <img src="../../assets/images/icons-peru-48.png" width="20px" height="20px" />
                  PEN
                </ng-option>

              </ng-select>
            </div>

          </div>
          <div class="col-12 col-md-1 d-flex justify-content-center">
            <div class="icon-exchange" (click)="onExchange()">
              <i class="fa fa-exchange"></i>
            </div>
          </div>
          <div class="col-12 col-md-3">
            <div class="form-group">
              <label for="currencyTypeTo">Para:</label>
              <ng-select [searchable]="false" [clearable]="false" labelForId="currencyTypeTo"
                formControlName="currencyTo" (change)="onChangeSelect()">
                <ng-option value="USD">
                  <img src="../../assets/images/icons-eeuu-48.png" width="20px" height="20px" />
                  USD
                </ng-option>
                <ng-option value="PEN">
                  <img src="../../assets/images/icons-peru-48.png" width="20px" height="20px" />
                  PEN
                </ng-option>

              </ng-select>
            </div>
          </div>
          <div class="col-12 col-xl-1 d-flex justify-content-center">
            <button type="button" class="btn btn-warning icon-exchange" (click)="onConvert()">
              <i class="fa fa-chevron-right"></i>
            </button>

          </div>
        </div>
        <div class="row text-center">
          <div class="col">
            <p> {{ amount.value }} {{formControl['currencyFrom'].value}} = </p>
            <p class="converted">
              <span class="amount">{{ valueConvert | number: '1.2-5' }}</span>
              <span class="currency"> {{formControl['currencyTo'].value}} </span>
            </p>
            <p></p>

          </div>

        </div>
        <div class="row">
          <div class="col-12 col-md-4 align-self-end">
            <span>
                Conversión de {{ nameCurrencyFrom }} a {{ nameCurrencyTo }}
            </span>
          </div>
          <div class="col-12 col-md-4 text-center">
            <p>
              <strong>1 PEN = {{  1 / valueDolarCurrent  | number: '1.2-6' }} USD </strong>
            </p>
            <p>
              <strong>1 USD = {{ valueDolarCurrent  | number: '1.2-6'}} PEN</strong>
            </p>
          </div>
          <div class="col-12 col-md-4 d-flex justify-content-end align-self-end">
            <strong >
              Última actualización: {{ date }} UTC
            </strong>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
